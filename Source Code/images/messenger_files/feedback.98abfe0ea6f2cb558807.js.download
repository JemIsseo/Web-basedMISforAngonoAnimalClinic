(self.webpackChunk_msnews_msnews_experiences=self.webpackChunk_msnews_msnews_experiences||[]).push([["feedback"],{77979:function(e,i,t){"use strict";t.r(i),t.d(i,{FeedbackLinkWC:function(){return f},FeedbackLinkWCStyles:function(){return R},FeedbackLinkWCTemplate:function(){return O},ToolingInfo:function(){return j}});var n=t(33940),o=t(12108),a=t(83227),d=t(73252),s=t(17769),l=t(84169),r=t(31293),c=t(65337),p=t(64193),h=t(99452),g=t(65135);class f extends p.l{constructor(){super(...arguments),this.forceHide=!0,this.existLegend=!1,this.appType="",this.enable=!1,this.sendNTPTraceInfoEventTelemetry=()=>(0,n.mG)(this,void 0,void 0,(function*(){if(this.isNTPScenario){const e=d.Al.ClientSettings?d.Al.ClientSettings.aid:"";let i=g.M0.getPageMetadata().JoinIdProps.IDXId;if(i){const t=i.split(",");i=t.slice(0,10).toString();const n={serviceType:"oneservice",oneServiceTraceId:i,oneServiceActivityId:e};g.M0.sendTraceInfoEvent(n)}}})),this.onScroll=(0,s.k)((()=>{(window.pageYOffset||document.documentElement.scrollTop)<50&&(this.config.hideFeedback||this.isAutoHide)?this.forceHide=!0:this.forceHide=!1}),350)}experienceConnected(){var e,i;if(this.appType=l.jG.AppType,(null===(i=null===(e=window.chrome)||void 0===e?void 0:e.ntpSettingsPrivate)||void 0===i?void 0:i.launchEdgeFeedback)||"winWidgets"===this.appType){this.enable=!0;const e=d.Al.ClientSettings.pagetype;this.isNTPScenario=!("edgeChromium"!==this.appType||e!==o.G.NTP),window.addEventListener("scroll",this.onScroll),this.forceHide=this.config.hideFeedback||this.isAutoHide}this.markVisuallyReady()}isAutoHideChanged(){var e;(null===(e=this.config)||void 0===e?void 0:e.hideFeedback)||(this.forceHide=this.isAutoHide)}hookAPI(){var e,i;if(null===(i=null===(e=window.chrome)||void 0===e?void 0:e.ntpSettingsPrivate)||void 0===i?void 0:i.launchEdgeFeedback){const e=(0,r.NJ)();if(e){const i=new URL(window.location.href),t=i.hash;i.hash=`pivot-${e}`,history.replaceState(history.state,void 0,i),window.location.reload(),window.chrome.ntpSettingsPrivate.launchEdgeFeedback(),window.stop(),i.hash=t||"",history.replaceState(history.state,void 0,i)}else window.chrome.ntpSettingsPrivate.launchEdgeFeedback()}else if("winWidgets"===this.appType&&c.$o&&"function"==typeof c.$o){let e="feedback-hub://?contextid=1214&tabid=2";for(const i of["muid","rid","debugId"]){const t=(0,c.$o)().getItem(`mee-${i}`);t&&(e=`${e}&${i}=${t}`)}window.dispatchEvent(new CustomEvent("FeedbackClicked")),window.location.href=e}}get linkConfig(){return Object.assign(Object.assign({},this.config),{localizedStrings:{display:this.strings.feedback}})}getExperienceType(){return a.x.feedbackLinkWC}disconnectedCallback(){window.removeEventListener("scroll",this.onScroll)}}(0,n.gn)([h.LO],f.prototype,"forceHide",void 0),(0,n.gn)([h.LO],f.prototype,"existLegend",void 0),(0,n.gn)([h.LO],f.prototype,"isAutoHide",void 0),(0,n.gn)([h.LO],f.prototype,"enable",void 0);var k=t(49218),u=t(93703),b=t(28904),v=t(95405),w=t.n(v),y=t(81563);const m=k.dy` ${e=>(0,y.Ot)(e.config.feedbackDialogConfigInfo,{properties:{visible:e.loadDialog}})}
`,x=k.dy`
${(0,u.g)((e=>e.renderReady&&e.display),k.dy`<fluent-button part="control" class="feedback-link" id="feedback-link-button" title="${e=>e.display}" aria-label="${e=>e.display}" role="button" @click="${e=>e.onClick()}" @keypress="${e=>e.onClick()}" data-t="${e=>e.telemetryTag}"><span slot="start" class=${e=>e.config.turnOffFeedbackLinkText?"feedback-button-no-text":"feedback-button"}>${k.dy.partial(w())}</span>${e=>e.config.turnOffFeedbackLinkText?"":e.display}</fluent-button>${(0,u.g)((e=>e.loadDialog),m)}
`)}
`;var $=t(78923);const C=$.i`
.feedback-link{}.feedback-link:focus{outline:1px dotted}span>svg{display:flex}.feedback-button{margin-inline-end:7px}.feedback-button-no-text{margin-inline-end:0px}`.withBehaviors();var T=t(42590),S=t(38156),L=t(60483),A=t(9533),F=t(38492),I=t(27460);class P extends b.H{constructor(){super(),this.renderReady=!1,this.loadDialog=!1,this.onClick=()=>{this.hookAPI?this.hookAPI():(this.loadDialog||(this.loadDialog=!0),window.requestAnimationFrame((()=>{this.feedbackDialog||(this.feedbackDialog=this.shadowRoot.querySelector("feedback-dialog")),this.feedbackDialog&&(this.feedbackDialog.visible=!0)})))},this.telemetryTag=new L.D({name:"FeedbackLink",type:S.c9.Module,behavior:S.wu.Launch,content:{headline:"Feedback"}}).getMetadataTag()}connectedCallback(){super.connectedCallback(),(0,A.FY)("msn-feedback-link",this),F.I.setValueFor(this,I.s)}configChanged(e,i){i&&(this.display=i.localizedStrings&&i.localizedStrings.display,i.loadTimeout?setTimeout((()=>{this.renderReady=!0}),i.loadTimeout):this.renderReady=!0)}}(0,n.gn)([h.LO],P.prototype,"config",void 0),(0,n.gn)([h.LO],P.prototype,"renderReady",void 0),(0,n.gn)([h.LO],P.prototype,"loadDialog",void 0),(0,n.gn)([h.LO],P.prototype,"display",void 0),(0,n.gn)([T.Lj],P.prototype,"hookAPI",void 0);let D=class extends P{};D=(0,n.gn)([(0,b.M)({name:"msn-feedback-link",template:x,styles:C})],D);const O=k.dy`${(0,u.g)((e=>e.enable),k.dy`<div class="feed-link-wrapper ${e=>e.forceHide?"on-transparent-navbar":""} ${e=>e.existLegend?"exist-legend":""} ${"edgeChromium"===l.jG.AppType?"feed-link-wrapper-ntp":""} ${"winWidgets"===l.jG.AppType?"feed-link-wrapper-widgets":""}"><msn-feedback-link :config=${e=>e.linkConfig} :hookAPI=${e=>e.hookAPI.bind(e)}></msn-feedback-link></div>`)}`;var H=t(62734),E=t(64434),z=t(64893);const M=()=>(0,z.cN)(l.jG.CurrentMarket)?"left:":"right:",R=$.i` .feed-link-wrapper{position:fixed;bottom:2px;z-index:${String(E.K.Dialog-1)}}.feed-link-wrapper-ntp{${M()} 6px}.feed-link-wrapper-widgets{${M()} 57px}msn-feedback-link::part(control){--elevation:2;width:fit-content;font-size:12px;font-weight:400;font-family:inherit;height:28px;z-index:${String(E.K.Dialog)};
        ${H.XC}}.on-transparent-navbar{height:0;overflow:hidden}.feed-link-wrapper.exist-legend{${M()} 206px;
    }
`.withBehaviors(),j={experienceConfigSchema:undefined}},95405:function(e){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 1.5a1 1 0 00-1 1v2a1 1 0 001 1V7l1.8-1.5h2.2a1 1 0 001-1v-2a1 1 0 00-1-1h-4zM5 4a2 2 0 100 4 2 2 0 000-4zm2.5 5h-5C1.67 9 1 9.67 1 10.5c0 1.12.46 2.01 1.21 2.61.74.6 1.74.89 2.79.89s2.05-.29 2.79-.89c.75-.6 1.21-1.5 1.21-2.61C9 9.67 8.33 9 7.5 9z"></path></svg>'}}]);